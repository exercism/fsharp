"robot-name-test.8th" f:include
needs exercism/test
with: test
5 tests

"Robot has a name"
  robot <- mkRobot()
  expect_true(Regex.IsMatch(name robot, @"^[A-Z]{2}\d{3}$"))
    
SKIP-REST-OF-TESTS

"Name is the same each time"
  robot <- mkRobot()
  expect_equal(name(robot), (name robot))
    
"2 Different robots have different names"
  robot <- mkRobot()
  robot2 <- mkRobot()
    name robot |> should not' (equal (name robot2))

"2500 Different robots have different names"
  robotCount <- 2500
    seq { 1 .. robotCount }
    |> Seq.map (fun _ -> mkRobot())
    |> Seq.map (fun robot -> name robot)
    |> Set
    |> Set.count
  expect_equal( , robotCount)
    
"Can reset the name"
  robot <- mkRobot()
  originalName <- name robot
  resetRobot <- reset robot
    originalName |> should not' (equal (name resetRobot))

end-of-tests
;with
