"ocr-numbers.8th" f:include
needs exercism/test
with: test
17 tests

"Recognizes 0"
  rows <- 
        [ " _ ";
          "| |";
          "|_|";
          "   " ]
  expect_equal(convert(rows), "0")

SKIP-REST-OF-TESTS

"Recognizes 1"
  rows <- 
        [ "   ";
          "  |";
          "  |";
          "   " ]
  expect_equal(convert(rows), "1")

"Unreadable but correctly sized inputs return ?"
  rows <- 
        [ "   ";
          "  _";
          "  |";
          "   " ]
  expect_equal(convert(rows), "?")

"Input with a number of lines that is not a multiple of four raises an error"
  rows <- 
        [ " _ ";
          "| |";
          "   " ]
  expect_equal(convert(rows), None)

"Input with a number of columns that is not a multiple of three raises an error"
  rows <- 
        [ "    ";
          "   |";
          "   |";
          "    " ]
  expect_equal(convert(rows), None)

"Recognizes 110101100"
  rows <- 
        [ "       _     _        _  _ ";
          "  |  || |  || |  |  || || |";
          "  |  ||_|  ||_|  |  ||_||_|";
          "                           " ]
  expect_equal(convert(rows), "110101100")

"Garbled numbers in a string are replaced with ?"
  rows <- 
        [ "       _     _           _ ";
          "  |  || |  || |     || || |";
          "  |  | _|  ||_|  |  ||_||_|";
          "                           " ]
  expect_equal(convert(rows), "11?10?1?0")

"Recognizes 2"
  rows <- 
        [ " _ ";
          " _|";
          "|_ ";
          "   " ]
  expect_equal(convert(rows), "2")

"Recognizes 3"
  rows <- 
        [ " _ ";
          " _|";
          " _|";
          "   " ]
  expect_equal(convert(rows), "3")

"Recognizes 4"
  rows <- 
        [ "   ";
          "|_|";
          "  |";
          "   " ]
  expect_equal(convert(rows), "4")

"Recognizes 5"
  rows <- 
        [ " _ ";
          "|_ ";
          " _|";
          "   " ]
  expect_equal(convert(rows), "5")

"Recognizes 6"
  rows <- 
        [ " _ ";
          "|_ ";
          "|_|";
          "   " ]
  expect_equal(convert(rows), "6")

"Recognizes 7"
  rows <- 
        [ " _ ";
          "  |";
          "  |";
          "   " ]
  expect_equal(convert(rows), "7")

"Recognizes 8"
  rows <- 
        [ " _ ";
          "|_|";
          "|_|";
          "   " ]
  expect_equal(convert(rows), "8")

"Recognizes 9"
  rows <- 
        [ " _ ";
          "|_|";
          " _|";
          "   " ]
  expect_equal(convert(rows), "9")

"Recognizes string of decimal numbers"
  rows <- 
        [ "    _  _     _  _  _  _  _  _ ";
          "  | _| _||_||_ |_   ||_||_|| |";
          "  ||_  _|  | _||_|  ||_| _||_|";
          "                              " ]
  expect_equal(convert(rows), "1234567890")

"Numbers separated by empty lines are recognized. Lines are joined by commas."
  rows <- 
        [ "    _  _ ";
          "  | _| _|";
          "  ||_  _|";
          "         ";
          "    _  _ ";
          "|_||_ |_ ";
          "  | _||_|";
          "         ";
          " _  _  _ ";
          "  ||_||_|";
          "  ||_| _|";
          "         " ]
  expect_equal(convert(rows), "123,456,789")

end-of-tests
;with
